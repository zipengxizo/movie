(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a1090830"],{"3a97":function(e,t,n){},"75ce":function(e,t,n){"use strict";var a=n("3a97"),i=n.n(a);i.a},a364:function(e,t,n){},c15a:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messageBox"},[n("h2",[e._v(e._s(e.title))]),n("p",[e._v(e._s(e.content))]),n("div",[e.cancel?n("div",{on:{touchstart:e.handleCancel}},[e._v(e._s(e.cancel))]):e._e(),e.ok?n("div",{on:{touchstart:e.handleOk}},[e._v(e._s(e.ok))]):e._e()])])},o=[],s={name:"alert"},r=s,l=(n("75ce"),n("2877")),c=Object(l["a"])(r,i,o,!1,null,"7b786ab5",null),d=c.exports,u=function(){return function(e){var t={title:"",content:"",cancel:"",ok:"",handleCancel:null,handleOk:null},n=a["default"].extend(d);for(var i in e)t[i]=e[i];var o=new n({el:document.createElement("div"),data:{title:t.title,content:t.content,cancel:t.cancel,ok:t.ok},methods:{handleCancel:function(){t.handleCancel&&t.handleCancel.call(this),document.body.removeChild(o.$el)},handleOk:function(){t.handleOk&&t.handleOk.call(this),document.body.removeChild(o.$el)}}});document.body.appendChild(o.$el)}}()},d4a1:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login_body"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"login_text",attrs:{type:"text",placeHolder:"账户名/手机号/Email"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"login_text",attrs:{type:"password",placeHolder:"请输入您的密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.verifyImg,expression:"verifyImg"}],staticClass:"login_text",attrs:{type:"text",placeHolder:"请输入您的验证码"},domProps:{value:e.verifyImg},on:{input:function(t){t.target.composing||(e.verifyImg=t.target.value)}}}),e._v(" "),n("img",{ref:"img",attrs:{src:e.$api.users.verifyImg()},on:{click:e.handleToVerifyImg}})]),n("div",{staticClass:"login_btn"},[n("input",{attrs:{type:"submit",value:"登录"},on:{click:e.handleToLogin}})]),n("div",{staticClass:"login_link"},[n("router-link",{attrs:{to:"/mine/register"}},[e._v("立即注册")]),n("router-link",{attrs:{to:"/mine/findPassword"}},[e._v("找回密码")])],1)])},i=[],o=n("c15a"),s={name:"Login",data:function(){return{username:"",password:"",verifyImg:""}},methods:{handleToLogin:function(){var e=this,t=this,n=this.$route.query.redirect;this.$api.users.login({username:this.username,password:this.password,verifyImg:this.verifyImg}).then((function(a){var i=a.data.status;if(0===i){var s=a.data.data.token;window.localStorage.setItem("token",s),t.$store.commit("token/TOKEN",{token:s}),Object(o["a"])({title:"登录",content:"登录成功",ok:"确定",handleOk:function(){n?t.$router.push(n):t.$router.push("/mine/center")}})}else Object(o["a"])({title:"登录",content:a.data.msg,ok:"确定"}),t.$refs.img.src=e.$api.users.verifyImg()+"?"+Math.random()}))},handleToVerifyImg:function(e){e.target.src=this.$api.users.verifyImg()+"?"+Math.random()}}},r=s,l=(n("ed24"),n("2877")),c=Object(l["a"])(r,a,i,!1,null,"1c07bc83",null);t["default"]=c.exports},ed24:function(e,t,n){"use strict";var a=n("a364"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-a1090830.5e34afbf.js.map